{"category":"SoundDrop","color":"#aba2b4","blocks":["__SoundDrop_init","__SoundDrop_play","__SoundDrop_stop"],"jscode":"// Block __SoundDrop_init\nvar __SoundDrop_init_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"SoundDrop_Init\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"TX\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"TX\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"RX\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"RX\"\n        }\n    ],\n    \"colour\": \"#aba2b4\"\n};\n\nwindow['Blockly'].Blocks['__SoundDrop_init'] = {\n    init: function() {\n        this.jsonInit(__SoundDrop_init_json);\n    }\n};\n\nwindow['Blockly'].Python['__SoundDrop_init'] = function(block) {\n    var TX = block.getFieldValue('TX');\nvar RX = block.getFieldValue('RX');\n    return `uart1 = machine.UART(1, tx=${TX}, rx=${RX})\nuart1.init(9600, bits=8, parity=None, stop=1)\n\ndef _play(num):\n    vh, vl = num >> 8, (num & 0xff)\n    csum = 0xaa + 0x07 + 0x02 + vh + vl\n    uart1.write(bytes([0xaa, 0x07, 0x02, vh, vl, csum]))\n\ndef _stop():\n    csum = 0xaa + 0x04;\n    uart1.write(bytes([0xaa, 0x04, 0x00, csum]))\n` + \"\\n\";\n};\n\n// Block __SoundDrop_play\nvar __SoundDrop_play_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"SoundDrop_Play\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"num\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"num\"\n        }\n    ],\n    \"colour\": \"#aba2b4\"\n};\n\nwindow['Blockly'].Blocks['__SoundDrop_play'] = {\n    init: function() {\n        this.jsonInit(__SoundDrop_play_json);\n    }\n};\n\nwindow['Blockly'].Python['__SoundDrop_play'] = function(block) {\n    var num = Blockly.Python.valueToCode(block, 'num', Blockly.Python.ORDER_NONE);\n    return `_play(${num})\n` + \"\\n\";\n};\n\n// Block __SoundDrop_stop\nvar __SoundDrop_stop_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"SoundDrop_Stop\"\n        }\n    ],\n    \"colour\": \"#aba2b4\"\n};\n\nwindow['Blockly'].Blocks['__SoundDrop_stop'] = {\n    init: function() {\n        this.jsonInit(__SoundDrop_stop_json);\n    }\n};\n\nwindow['Blockly'].Python['__SoundDrop_stop'] = function(block) {\n        return `_stop()` + \"\\n\";\n};\n\n","code":{"init":["window['Blockly'].Python['__SoundDrop_init'] = function(block) {\n    var TX = block.getFieldValue('TX');\nvar RX = block.getFieldValue('RX');\n    return `uart1 = machine.UART(1, tx=${TX}, rx=${RX})\nuart1.init(9600, bits=8, parity=None, stop=1)\n\ndef _play(num):\n    vh, vl = num >> 8, (num & 0xff)\n    csum = 0xaa + 0x07 + 0x02 + vh + vl\n    uart1.write(bytes([0xaa, 0x07, 0x02, vh, vl, csum]))\n\ndef _stop():\n    csum = 0xaa + 0x04;\n    uart1.write(bytes([0xaa, 0x04, 0x00, csum]))\n` + \"\\n\";\n};\n\n","uart1 = machine.UART(1, tx=${TX}, rx=${RX})\nuart1.init(9600, bits=8, parity=None, stop=1)\n\ndef _play(num):\n    vh, vl = num >> 8, (num & 0xff)\n    csum = 0xaa + 0x07 + 0x02 + vh + vl\n    uart1.write(bytes([0xaa, 0x07, 0x02, vh, vl, csum]))\n\ndef _stop():\n    csum = 0xaa + 0x04;\n    uart1.write(bytes([0xaa, 0x04, 0x00, csum]))\n"],"play":["window['Blockly'].Python['__SoundDrop_play'] = function(block) {\n    var num = Blockly.Python.valueToCode(block, 'num', Blockly.Python.ORDER_NONE);\n    return `_play(${num})\n` + \"\\n\";\n};\n\n","_play(${num})\n"],"stop":["window['Blockly'].Python['__SoundDrop_stop'] = function(block) {\n        return `_stop()` + \"\\n\";\n};\n\n","_stop()"]}}